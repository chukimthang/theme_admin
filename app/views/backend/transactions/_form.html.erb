<%= form_for [:admin, group, transaction], html: {class: "form-horizontal"} do |f| %>
  <div class="box-body col-md-8">
    <div class="form-group row">
      <div class="col-md-4 control-label">Kind
        <span class="require"> * </span>
      </div>
      <div class="col-md-8 radio-content">
        <%= f.radio_button :kind, :expense, class: "icheck-me", 
          data: {skin: "square", color: "blue"} %>
        <span>Expense</span>
        <%= f.radio_button :kind, :income, class: "icheck-me", 
          data: {skin: "square", color: "blue"} %>
        <span>Income</span>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-md-4 control-label">Amount
        <span class="require"> * </span>
      </div>
      <div class="col-md-8">
        <%= f.text_field :amount, class: "form-control" %>
        <%= show_errors transaction, :amount %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-md-4 control-label">Description</div>
      <div class="col-md-8">
        <%= f.text_area :description, class: "form-control" %>
        <%= show_errors transaction, :description %>
      </div>
    </div>

    <div class="form-group row transaction-category">
      <div class="col-md-4 control-label">Category
        <span class="require"> * </span>
      </div>
      <div class="col-md-8">
        <select class="form-control select2" id="category_id" 
          name="transaction[category_id]">
          <option value="">-- Choose --</option>
          <% categories.each do |cate| %>
            <% ancestors = cate.get_ancestors %>

            <% ancestors.each do |a| %>
              <% indent = " ---  " * a[0] %>
              <% if transaction.category_id == a[1].id %>
                <option value="<%= a[1].id %>" selected>
                  <%= indent + a[1].name %>
                </option>
              <% else %>
                <option value="<%= a[1].id %>">
                  <%= indent + a[1].name %>    
                </option>
              <% end %>
            <% end %>
          <% end %>
        </select>
        <%= show_errors transaction, :category_id %>
      </div>
    </div>
  </div>

  <div class="box-footer">
    <div class="col-md-8">
      <%= f.submit "Save", class: "btn btn-info col-md-offset-4" %>
    </div>
  </div>
  <div class="clearfix"></div>
<% end %>
